!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=25)}({25:function(t,e,i){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}i(26);var h=1,a=!1,o=!1,l=0,u=document.getElementById("main-canvas");u.width=860,u.height=650;var c=u.getContext("2d");c.fillStyle="white",c.save();var p=function(){function t(e,i){r(this,t),this.x=e,this.y=i,this.draw=this.draw.bind(this),this.draw()}return s(t,[{key:"draw",value:function(){this.x<0&&(this.x=u.width+this.x),this.x>=u.width&&(this.x=0),this.y<0&&(this.y=u.height+this.y),this.y>=u.height&&(this.y=0),c.fillRect(this.x,this.y,18,18)}}]),t}(),d=function(){function t(){r(this,t),this.parts=[],this.length=4,this.xDir=0,this.yDir=-1,this.appleCoor=g(),this.init=this.init.bind(this),this.drawNextStep=this.drawNextStep.bind(this),this.addPart=this.addPart.bind(this)}return s(t,[{key:"init",value:function(){c.clearRect(0,0,u.width,u.height),this.parts=[];for(var t=0;t<this.length;t++)if(0==this.parts.length)this.parts.push(new p(u.height/2,u.height/2));else{var e=this.parts[t-1];this.parts.push(new p(e.x,e.y+18+2))}x(this.appleCoor[0],this.appleCoor[1])}},{key:"addPart",value:function(){var t=this.parts[this.length-1];this.length++,this.parts.push(new p(t.x+20*this.xDir,t.y+20*this.yDir)),this.parts[this.length-1].draw()}},{key:"drawNextStep",value:function(){c.clearRect(0,0,u.width,u.height);for(var t=this.length-1;t>=0;t--){if(0==t){c.fillStyle="green",this.parts[t].x+=20*this.xDir,this.parts[t].y+=20*this.yDir,this.parts[t].x<0&&(this.parts[t].x=u.width+this.parts[t].x),this.parts[t].x>=u.width&&(this.parts[t].x=0),this.parts[t].y<0&&(this.parts[t].y=u.height+this.parts[t].y),this.parts[t].y>=u.height&&(this.parts[t].y=0);for(var e=this.parts[t].x,i=this.parts[t].y,r=2;r<this.length-1;r++)if(e==this.parts[r].x&&i==this.parts[r].y){a=!1,c.fillStyle="red";break}e+9>this.appleCoor[0]-9&&e+9<this.appleCoor[0]+9&&i+9>this.appleCoor[1]-9&&i+9<this.appleCoor[1]+9&&(l++,document.getElementById("count").innerHTML="Score: "+l,this.appleCoor=g(),this.addPart())}else this.parts[t].x=this.parts[t-1].x,this.parts[t].y=this.parts[t-1].y;this.parts[t].draw()}document.getElementById("coor").innerHTML="x: "+this.parts[0].x+" y: "+this.parts[0].y,x(this.appleCoor[0],this.appleCoor[1]),o=!1}}]),t}();function f(t,e){var i=t+Math.random()*(e+1-t);return Math.floor(i)}var y=new d;function g(){return[20*f(1,u.width/20)-10,20*f(1,u.height/20)-10]}function x(t,e){c.fillStyle="red",c.beginPath(),c.arc(t,e,9,0,2*Math.PI,!1),c.fill(),c.fillStyle="white"}function w(){a&&(y.drawNextStep(),setTimeout(w,110-10*h))}function m(){c.clearRect(0,0,u.width,u.height),a=!1,(y=new d).init()}y.init(),document.onkeydown=function(t){var e=t.keyCode;if(!o){switch(e){case 37:if(1==y.xDir)return;y.xDir=-1,y.yDir=0;break;case 38:if(1==y.yDir)return;y.xDir=0,y.yDir=-1;break;case 39:if(-1==y.xDir)return;y.xDir=1,y.yDir=0;break;case 40:if(-1==y.yDir)return;y.xDir=0,y.yDir=1}console.log("poke"),o=!0}},document.getElementById("start").onclick=function(t){a||(m(),a=!0,w())},document.getElementById("speed-up").onclick=function(t){10!=h&&(h++,document.getElementById("speed").innerHTML=h)},document.getElementById("speed-down").onclick=function(t){1!=h&&(h--,document.getElementById("speed").innerHTML=h)},document.getElementById("clear").onclick=function(t){m()}},26:function(t,e,i){}});
//# sourceMappingURL=snake2d.js.map